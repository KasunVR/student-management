<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - Student Record Manager</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(to bottom right, #adb5bd, #e9ecef);
        }
        .navbar {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .nav-link {
            font-size: 1.1rem;
            transition: color 0.3s ease;
        }
        .nav-link:hover {
            color: #ffc107 !important;
        }
        .container {
            margin-top: 40px;
            max-width: 800px;
        }
        .animated-gradient {
            background: linear-gradient(45deg, #0d6efd, #6610f2, #6f42c1);
            background-size: 300% 300%;
            animation: gradient-animation 6s ease infinite;
            color: white;
        }
        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        footer h5 {
            text-decoration: none;
            transition: color 0.3s ease, transform 0.3s ease;
        }
        footer h5:hover {
            color: black;
            transform: scale(1.1);
        }
        .social-icons i {
            font-size: 20px;
            transition: transform 0.3s ease, color 0.3s ease;
        }
        .social-icons i:hover {
            color: #ffc107;
            transform: scale(1.2);
        }

        .profile-img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
}
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Student Affair Division</a>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="aboutus.html">About</a></li>
                    <li class="nav-item"><a class="nav-link active" href="contact.html">Contact</a></li>
                </ul>
                <div class="d-flex align-items-center">
                    <img src="default-profile.png" alt="Profile" id="profileImg" class="profile-img">
                </div>
            </div>
        </div>
    </nav>
<!-- Text added by jQuery -->
<div id="notification-message" class="alert alert-info mt-3" style="display: none;">It may take up to a day to respond to your message. If you need a faster response, you can call the phone number at the footer.</div>

    <div class="container mt-4">
        <h2>Contact Us</h2>
         
        <form id="contact-form">
            <div class="mb-3">
                <label for="name" class="form-label">Name</label>
                <input type="text" class="form-control" id="name" placeholder="Your Name" required>
            </div>
            <div class="mb-3">
                <label for="number" class="form-label">SA Number</label>
                <input type="text" class="form-control" id="number" placeholder="Your SA Number" required>
            </div>
            <div class="mb-3">
                <label for="year" class="form-label">Year & Semester</label>
                <input type="text" class="form-control" id="year" placeholder=" Year & Semester" required>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" placeholder="Your Email" required>
            </div>
            <div class="mb-3">
                <label for="message" class="form-label">Message</label>
                <textarea class="form-control" id="message" placeholder="Your Message" rows="4" required></textarea>
            </div>
            <button type="submit" id="send-btn" class="btn btn-primary">Send</button>
        </form>
        <div class="alert alert-success mt-4" id="success-message" style="display: none;">
            Your message has been sent successfully!
        </div>
        <div class="alert alert-danger mt-4" id="error-message" style="display: none;">
            Failed to send your message. Please try again.
        </div>
    </div>

    <footer>
    </div>
    <div class="row text-center py-4 mt-4 animated-gradient">
        
        <div class="col-md-6 mb-3">
            <h5>Follow Us</h5>   
            <div class="social-icons mt-2">
            <a href="https://facebook.com" target="_blank" class="text-light me-3">
                <i class="bi bi-facebook"></i>
            </a>
            <a href="https://twitter.com" target="_blank" class="text-light me-3">
                <i class="bi bi-twitter"></i>
            </a>
            <a href="https://linkedin.com" target="_blank" class="text-light me-3">
                <i class="bi bi-linkedin"></i>
            </a>
            <a href="https://instagram.com" target="_blank" class="text-light">
                <i class="bi bi-instagram"></i>
            </a>
        </div>
        </div>
        <div class="col-md-6">
            <h5>Contact Us</h5>
            <p>Email: <a href="mailto:vle.support@studentrecord.com" class="text-warning">vle.support@studentaffair.com</a></p>
            <p>Phone: <a href="tel:+1234567890" class="text-warning">011 456 7890</a></p>
        </div>
    </div>
     <!-- Bottom Section -->
 <div class="row text-center py-2" style="background: #343a40; color: #adb5bd;">
    <div class="col-12">
    &copy; 2024 <strong>Student Affair Division</strong>. All Rights Reserved.
        </p>
        <p>
            <a href="terms.html" class="text-decoration-none text-warning mx-2">Privacy Policy</a> | 
            <a href="aboutus.html" class="text-decoration-none text-warning mx-2">Terms of Use</a>
        </p>
    </div>
 </div>
</div>

<!-- Font Awesome -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</footer>
<script type="text/javascript">window.$crisp=[];window.CRISP_WEBSITE_ID="4c56339d-0795-40ca-9fd1-0b61ab0a8232";(function(){d=document;s=d.createElement("script");s.src="https://client.crisp.chat/l.js";s.async=1;d.getElementsByTagName("head")[0].appendChild(s);})();</script>
   

    <script>
       $(document).ready(function () {
    const contactForm = $('#contact-form');
    const successMessage = $('#success-message');
    const errorMessage = $('#error-message');

    // Form submission
    contactForm.on('submit', function (e) {
        e.preventDefault();

        // Get form data
        const contactData = {
            name: $('#name').val().trim(),
            number: $('#number').val().trim(),
            year: $('#year').val().trim(),
            email: $('#email').val().trim(),
            message: $('#message').val().trim(),
        };

        // Simple client-side validation
        if (!validateForm(contactData)) {
            alert('Please fill out all fields correctly.');
            return;
        }

        // AJAX request to submit form data
        $.ajax({
            url: 'http://localhost:3005/api/contact',
            method: 'POST',
            contentType: 'application/json',
            data: JSON.stringify(contactData),
            success: function () {
                successMessage.fadeIn().delay(3000).fadeOut();
                contactForm[0].reset(); // Reset form fields
            },
            error: function () {
                errorMessage.fadeIn().delay(3000).fadeOut();
            },
        });
    });

    // Real-time validation
    contactForm.find('input, textarea').on('input', function () {
        $(this).removeClass('is-invalid'); // Remove invalid class on typing
    });

    // Validate form inputs
    function validateForm(data) {
        let isValid = true;

        // Check if all fields are filled
        for (const key in data) {
            if (!data[key]) {
                $(`#${key}`).addClass('is-invalid'); // Highlight invalid fields
                isValid = false;
            }
        }

        // Additional email validation
        if (!validateEmail(data.email)) {
            $('#email').addClass('is-invalid');
            isValid = false;
        }

        return isValid;
    }

    // Email validation regex
    function validateEmail(email) {
        const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return regex.test(email);
    }
});

   
   // Define the base URL for your backend API
const apiBase = "http://localhost:3005/api";

// Load and display the profile image
function loadProfileImage() {
    fetch(`${apiBase}/profile`) // Adjust the endpoint to your actual JSON file or API
        .then((response) => {
            if (!response.ok) {
                throw new Error("Failed to load user profile.");
            }
            return response.json();
        })
        .then((data) => {
            // Assuming the JSON contains a "profilePicture" property for the image URL
            const profileImage = data.profilePicture || "default-profile.png";
            document.getElementById("profileImg").src = profileImage;
        })
        .catch((error) => {
            console.error("Error loading profile image:", error);
        });
}

// Call the function when the page loads
document.addEventListener("DOMContentLoaded", loadProfileImage);


$(document).ready(function () {
    // Create the notification message with enhanced styling
    const notificationMessage = $('<div>', {
        id: "notification-message",
        class: "alert alert-info text-center mt-3",
        text: "It may take up to a day to respond to your message. If you need a faster response, you can call the phone number at the footer.",
        css: {
            display: "none",
            borderRadius: "10px",
            boxShadow: "0 4px 10px rgba(0, 0, 0, 0.2)",
            backgroundColor: "#d4edda",
            color: "#155724",
        },
    });

    // Create the clickable notification text
    const notificationText = $('<p>', {
        id: "notification-text",
    text: "ðŸ’¡ Before sending your message, read this.",
    class: "text-center mb-3",
    css: {
        color: "#28a745", // Set the new default color
        cursor: "pointer",
        fontSize: "1.5rem",
        textDecoration: "underline",
        fontWeight: "bold",
        transition: "color 0.3s ease, transform 0.3s ease",
    },
        mouseenter: function () {
            $(this).css({ color: "#6610f2", transform: "scale(1.05)" });
        },
        mouseleave: function () {
            $(this).css({ color: "#28a745", transform: "scale(1)" });
        },
        click: function () {
            // Show the notification message with fade-in and slight bounce effect
            notificationMessage.fadeIn(400).delay(5000).fadeOut(400);
        },
    });

    // Append the notification text and message to the container
    $('.container').prepend(notificationMessage);
    $('.container').prepend(notificationText);
});


    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
